<% include ../layout/header %>
<% include ../layout/top-menu %>
<% include ../layout/side-menu%>
<section class="main">
<% include ../layout/menu %>
<h4 id="h1Add">Student List
    <a href="/add" class="btn btn-primary float-right" id="#btn1">Add New Student</a>
</h4>
<% if (students.length > 0) {%>
<table class="table table-striped table-bordered">
    <form action="/" method="GET" id="searchStudent">
        <thead> 
            <tr>
                <th>Name</th>
                <th>Class</th>
                <th>Father Name</th>
                <th>Mother Name</th>
                <th>Action</th>
            </tr>
            <tr>
                <th>
                    <input type="text" class="form-control form-control-sm" name="name">
                </th>
                <th>
                    <input type="text" class="form-control form-control-sm" name="className">
                </th>
                <th>
                    <input type="text" class="form-control form-control-sm" name="fname">
                </th>
                <th>
                    <input type="text" class="form-control form-control-sm" name="mname">
                </th>    
                <th>
                    <input type="submit" class="btn btn-success" value="Search" >
                    <!-- <input type="button" class="btn btn-success" value="clear" onclick="clearForm()"> -->
                    <a href="/" class="btn btn-info">clear</a>
                </th>
                    
            </tr>
        </thead>
    </form>
        <tbody>
            <% students.forEach((item) => { %>
            <tr>
                <td><%=item.name%></td>
                <td><%=item.className%></td>
                <td><%=item.fatherName%></td>
                <td><%=item.motherName%></td>
                <td><a href="/editStudent/<%=item.id%>">Edit</a>
                <a href="/studentView/<%=item.id%>">View</a>
                <a href="/deleteStudent/<%=item.id%>" onclick="return confirm('Are you sure?');">Delete</a></td>
            </tr>
            <% }) %>
            
        </tbody> 
        </table>
        <nav aria-label="Page navigation example">
            <ul class="pagination"> 
                <% for(var i=1; i<=totalPageData; i++) {%> 
                    <% if(i==1) { %>
                <li class="page-item">
                        <a class="page-link" href="/?page=<%=i%>">First</a>
                </li>
                <% } %>
                <li class="page-item">
                    <a href="/?page=<%=i%>" class="page-link"><%=i%></a>
                </li>
                <% if(i==totalPageData) { %>
                    <li class="page-item">
                        <a class="page-link" href="/?page=<%=i%>">Last</a>
                    </li>
                    <% } %>
                <% } %> 
            </ul>
          </nav>
    <% } %>
    <% if (students.length == 0) {%>  
        <div class="alert"> No student found</div>
     <%}%>   
</section>
<script>
    function clearForm() {
        document.getElementById("searchStudent").reset();
    }
</script>
<% include ../layout/footer%>

